<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<script src='file:///android_asset/app.js'></script>
<link href="css/all.css" rel="stylesheet">

    <link href="boostrap/css/bootstrap2.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap3.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap4.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap5.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap6.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap7.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap8.css" rel="stylesheet">
    <link href="boostrap/css/swiper.min.css" rel="stylesheet">

<script src="js/all.js"></script>
    <script src="boostrap/js/jquery.js"></script>
    <script src="boostrap/js/date.js"></script>
    <script src="boostrap/js/date2.js"></script>
    <script src="boostrap/js/bootstrap.js" type="text/javascript" ></script>


<style id="mystyle">
body{
height:100%;
}
.container{
display:inline-block;
margin:auto;
border-radius:20px;
padding-bottom:14px;
width:80%;
margin-top:100px;
}
#logo{
width:100px;height:100px;
background:url(logo.png);
background-size:100%;
margin-top:5px;
border-radius:50%;
box-shadow:5px 5px 5px grey, -5px -5px 5px white;

}

#user, #lock{

width:300px;
height:50px;
border-radius:20px;
}
.dropcontainer{
display:inline-block;
margin:auto;
border-radius:5px;
width:96%;
margin-top:5px;
height:35px;
}
button{

margin:10px;
border-radius:20px;
width:300px;
height:50px;
font-size:14px;

}
button:hover{
box-shadow:1px 1px 5px grey,  -1px -1px 5px white;

}
input{
width:100%;
padding-left:5px;
font-family:times;
font-weight:bold;
height:35px;
border:none;
outline:none;
background:none;
}
p{
font-family:times;font-weight:bold;
}
textarea{
width:100%;
font-family:times;
font-weight:bold;
border:none;
outline:none;
background:none;
}
#foot{
font-size:14px;
margin-top:14px;}
a{text-decoration:none;outline:none;
}
i{
color:rgb(80,80,80);
}
h3{
margin-bottom:20px;
margin-top:5px;  
font-family:times;
}

</style>


</head>

<script>  
app.SaveText("Change","project.html");
var themeColor = app.LoadText( "themeColor" );
var color = JSON.parse(themeColor);
var c1=color.c1;
var c2=color.c2;
var c3=color.c3;
var c4=color.c4;
var c5=color.c5;
var c6=color.c6;
var mytheme =app.LoadText( "mytheme" );
if (mytheme=="1")
{
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .fullBody{"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%),"
+"radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"height:100%;width:100%;margin:0;position:absolute;}"
+".mycontainer{"
+"position:relative;"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"font-weight:bold;}"
+".myinput{"
+"margin:auto;"
+"border:none;"
+"background:#"+c1+";"
+"outline:none;"
+"box-shadow:inset 5px 5px 5px #"+c3+", inset -5px -5px 5px #"+c2+";"
+"}"
+".mybutton{"
+"border:none;"
+"box-shadow:5px 5px 5px #"+c3+", -5px -5px 5px #"+c2+";"
+"outline:none;"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"font-weight:bold;font-family:times;}"
+".mybutton:hover{"
+"box-shadow:1px 1px 5px #"+c3+",  -1px -1px 5px #"+c2+";"
+"}"
+".FAA{color:#"+c4+";}"
+".FB{color:#"+c5+";}"
+".FC{color:#"+c6+";}";
var size=app.LoadText("size").split(",");
for (i = 0; i < size.length; i++) {
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .F"+i+"{font-size:"+size[i]+"px;} ";
}
}
else
{
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" body{"
+"background:#"+c1+";"
+"}"
+".mycontainer{"
+"position:relative;"
+"background:#"+c1+";"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"}"
+".myinput{"
+"margin:auto;"
+"border:none;"
+"background:#"+c1+";"
+"outline:none;"
+"box-shadow:inset 5px 5px 5px #"+c3+", inset -5px -5px 5px #"+c2+";"
+"}"
+".mybutton{"
+"border:none;"
+"box-shadow:5px 5px 5px #"+c3+", -5px -5px 5px #"+c2+";"
+"outline:none;"
+"background:#"+c1+"; " 
+"}"
+".mybutton:hover{"
+"box-shadow:1px 1px 5px #"+c3+",  -1px -1px 5px #"+c2+";"
+"}"
+".FAA{color:#"+app.LoadText("fontA")+";}"
+".FB{color:#"+app.LoadText("fontB")+";}"
+".FC{color:#"+app.LoadText("fontC")+";}";
var size=app.LoadText("size").split(",");
for (i = 0; i < size.length; i++) {
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .F"+i+"{font-size:"+size[i]+"px;} ";
}
}

//app.Alert(document.getElementById("mystyle").innerHTML);
</script>

<body align="center" ondragstart="return false" onselectstart="return false">
<div class="fullBody" style="height:90%;overflow:scroll;">

<div class="">

<div class="FAA F15" style="font-family:times;font-weight:bold;text-align:center;">Add Project</div>

<div class="container" style="margin-top:5px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Project Name</p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" style="height:25px;"  type="text" placeholder="Name" id="pname">
  </div>
</div>

<table style="width:90%;margin:5%;" id="allwing">
<tr>
<td style="width:60%">
<div class="container" style="margin-top:0px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Wing Name</p>                                        
  <div class=" myinput" style="margin-top:0px;">
    <input class="F15 FAA myitem" style="height:25px;" type="text" placeholder="A wing" id="myitem">
  </div>
</div>
</td>
<td style="width:30%;">
<button type="button" class="mybutton F10" style="width:40%;height:25px;border-radius:0px;" onclick="myCreate();">Add more wing</button>
</td>
</tr>
</table>


<div class="container" style="margin-top:0px;display:none;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Mobile Number</p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" style="height:25px;"  type="number" placeholder="Mobile Number" id="pmobile">
  </div>
</div>


<div class="container" style="margin-top:5px;display:none;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Email</p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" style="height:25px;"  type="email" placeholder="Email" id="pemail">
  </div>
</div>





<div class="container" style="margin-top:5px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Put location cordinate for online attendance</p>
<p class="F12 FAA" style="text-align:left;font-weight:bold;">(exmpl :19.1662438,72.8417969) <a href="#" onclick="viewimg();">Click to view example </a></p>                                        
 <table style="width:100%;"><tr><td style="width:60%;">
   <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" type="text" placeholder="location cordinate " id="location">
  </div>
  </td>
  <td style="width:40%;">
  <button class="mybutton"style="width:90%;height:35px;border-radius:0px;" onclick="getloc();">Get Current  Location</button>
  </td>
  </tr></table>
</div>


<div class="container" style="margin-top:5px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Location covrage range meter</p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" style="height:25px;"  type="number" value="1000"  placeholder="meter" id="accuracy">
  </div>
</div>


<div class="container" style="margin-top:5px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Project Address</p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <textarea class="F15 FAA myinput"type="text" placeholder="Note" id="paddress" rows="3" cols="50">
    </textarea>
  </div>
</div>



<button class="mybutton FAA F14" style="font-family:times;font-weight:bold;" onclick="submit();">Submit </button>

<div class="modal fade" id="viewer" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content mycontainer">
      <div class="modal-header">
        <h5 class="modal-title F16" id="exampleModalLabel">
        
        </h5>
        
      </div>
      <div class="modal-body" style="width: 100%; height: 550px;">
     <iframe id="mydoc" src=""
           onload=""style="width: 100%; height: 550px;" x rolling="auto">
        </iframe>
         </div>
      <div class="modal-footer">
        <button type="button" class="mybutton" data-dismiss="modal" style="width:60px;height:20px;border-radius:0px;">Close</button>
      </div>
    </div>
  </div>
</div>
<script>

document.getElementById("mydoc").style="width:100%;height:550px;background:url(Img/map.png) no-repeat center center; background-size: 100% auto;";
 function viewimg()
{

 $('#viewer').modal('show');
}



var  rec = JSON.parse(app.LoadText( "userDetails" ));
       var    id=rec.id;
       var    User=rec.user;
       var   token=rec.token;
       function setloc()
       {
       document.getElementById("location").value=app.LoadText( "loc" );
       }
function getloc()
{
 app.Execute("getloc();");   
}

function submit()
{
var mydata ="";
var pname  = document.getElementById("pname").value;
var pmobile  = document.getElementById("pmobile").value;
var pemail  = document.getElementById("pemail").value;
var paddress  = document.getElementById("paddress").value;
var location  = document.getElementById("location").value;
var accuracy  = document.getElementById("accuracy").value;

var myitem =document.getElementsByClassName("myitem");

for (i = 0; i < myitem.length; i++){
   
   mydata=mydata+ '@{"wing":"'+myitem[i].value+'"}@';
}

if(pname.length <4)
{
app.Alert( "Please input project name min 4 charactor" )
}
else if(paddress.length <6)
{
app.Alert( "Please input address field " )
}
else if(myitem[0].value.length==0)
{
app.Alert( "Please input atleast one wing name" )
}
else
{
app.Execute("loader2(1);");   
	var 	req2=new XMLHttpRequest();
	req2.open("GET",app.LoadText( "url" )+"addproject.php?id="+id+"&user="+User+"&token="+token+"&wing="+mydata+"&location="+location+"&accuracy="+accuracy+"&pname="+pname+"&pmobile="+pmobile+"&pemail="+pemail+"&paddress="+paddress,true);
	req2.onreadystatechange=function(){
if(	req2.readyState==4 && 	req2.status==200){if(	req2.responseText=="ufFygf")
{  

}else{
 if (req2.responseText.trim()==1)
 {
 app.Alert( "error please relogin" );
     app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Error"}');
     app.ClearData(  );
  app.exit();
 }
 else if(req2.responseText.trim()==3)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Permission denied"}');
 }
 else if(req2.responseText.trim()==2)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"User is blocked"}');
 }
 else if(req2.responseText.trim()==4)
 {
  app.Alert( "Already exist this project name" );
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Project already exist "}');
 }
 else if(req2.responseText.trim()==5)
 {
    app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"green","msg":"Seccessfully added"}');
 }
 else
 {
  app.Execute("loader2(4);");   
 }
}}}
	req2.send();
}
}

 var rows =0;
function myCreate() {
    rows=rows+1;
  var table = document.getElementById("allwing");
  var row = table.insertRow(rows);
    var cell1 = row.insertCell(0).innerHTML='<div class="container" style="margin-top:0px;">'
+'<p class="F12 FAA" style="text-align:left;font-weight:bold;">Wing Name</p>'                               
+'<div class=" myinput" style="margin-top:0px;">'
+'<input class="F15 FAA myitem" style="height:25px;" type="text" placeholder="A wing" id="pwing">'
+'</div>'
+'</div>';
  var cell2 = row.insertCell(1).innerHTML='<i style="margin-left:12px;"class="F15 fa fa-trash mybutton"onclick="myDelete('+rows+')"></i>';
}
function myDelete(N) {
  document.getElementById("allwing").deleteRow(rows);
  rows=rows-1;
}



</script>





</div>
</body>
</html>