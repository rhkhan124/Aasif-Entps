<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<script src='file:///android_asset/app.js'></script>
<link href="css/all.css" rel="stylesheet">

    <link href="boostrap/css/bootstrap2.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap3.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap4.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap5.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap6.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap7.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap8.css" rel="stylesheet">
    <link href="boostrap/css/swiper.min.css" rel="stylesheet">

<script src="js/all.js"></script>
    <script src="boostrap/js/jquery.js"></script>
    <script src="boostrap/js/date.js"></script>
    <script src="boostrap/js/date2.js"></script>
    <script src="boostrap/js/bootstrap.js" type="text/javascript" ></script>


<style id="mystyle">
body{
height:100%;
}
.mcontainer{
display:inline-block;
margin:auto;
border-radius:5px;
padding-bottom:14px;
width:94%;
margin-top:7px;
}
.dropcontainer{
display:inline-block;
margin:auto;
border-radius:5px;
width:96%;
margin-top:10px;
height:40px;
}
.dropdown-menu
{
height:350px;
width:100%;  
border:none;
outline:none;
}
.mydrop
{
height:350px;
width:100%;
overflow:scroll;     
}


button:hover{
box-shadow:1px 1px 5px grey,  -1px -1px 5px white;

}
html,body {
  text-size-adjust: none;
  -webkit-text-size-adjust: none;
  -moz-text-size-adjust: none;
  -ms-text-size-adjust: none;
}

input{
width:100%;
height:60px;
border:none;
outline:none;
background:none;
font-weight:bold;
font-family:times;
padding-left:10px;
}

@mixin nonselect {
	-webkit-touch-callout: none;
    -webkit-user-select: none;
     -khtml-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
	cursor: default;
}
.listitem{
height:40px;
width:96%;
margin-left:2%;
margin-top:5px;
}
.mybar{
height:10px;
width:100%;
}
td
{
height:25px;
}
.span{
		animation: blink .5s linear infinite;
	}
@keyframes blink{
0%{opacity: 0;}
100%{opacity: 1;}
}


.upload-btn-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;

}

.upload-btn-wrapper input[type=file] {
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
}

.dropdown2 {
  position: relative;
  display: inline-block;
}

.dropdown-content2 {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 12px 16px;
  z-index: 99;
}

.dropdown2:hover .dropdown-content2{
  display: block;
  
}

.cell1
{
text-align:center;
width:35%;
}
.cell2
{
text-align:center;
width:20%;
}
.cell3
{
text-align:center;
width:15%;
}
.cell4
{
text-align:center;
}
input{
outline:none;
background-color:white;
}
select{
outline:none;
}
</style>


</head>


    
<script>  
app.SaveText("Change","empindex.html");
var themeColor = app.LoadText( "themeColor" );
var color = JSON.parse(themeColor);
var c1=color.c1;
var c2=color.c2;
var c3=color.c3;
var c4=color.c4;
var c5=color.c5;
var c6=color.c6;
var mytheme =app.LoadText( "mytheme" );
if (mytheme=="1")
{
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .fullBody{"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%),"
+"radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"height:100%;width:100%;margin:0;position:absolute;}"
+".mycontainer{"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"font-weight:bold;}"

+".mycontainer2{"
+"position:absolute;"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"font-weight:bold;}"
+".myinput{"
+"position:relative;"
+"border:none;"
+"background:#"+c1+";"
+"outline:none;"
+"box-shadow:inset 5px 5px 5px #"+c3+", inset -5px -5px 5px #"+c2+";"
+"}"
+".myinput2{"
+"border:none;"
+"background:#"+c1+";"
+"outline:none;"
+"box-shadow:inset 2px 2px 2px #"+c3+", inset -2px -2px 2px #"+c2+";"
+"}"
+".mybutton{"
+"border:none;"
+"box-shadow:5px 5px 5px #"+c3+", -5px -5px 5px #"+c2+";"
+"outline:none;"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"font-weight:bold;font-family:times;}"
+".mybutton:hover{"
+"box-shadow:1px 1px 5px #"+c3+",  -1px -1px 5px #"+c2+";"
+"}"
+".FAA{color:#"+app.LoadText("fontA")+";}"
+".FB{color:#"+app.LoadText("fontB")+";}"
+".FC{color:#"+app.LoadText("fontC")+";}";
var size=app.LoadText("size").split(",");
for (i = 0; i < size.length; i++) {
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .F"+i+"{font-size:"+size[i]+"px;} ";
}
}
else
{
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" body{"
+"background:#"+c1+";"
+"}"
+".mycontainer{"
+"background:#"+c1+";"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"}"
+".mycontainer2{"
+"background:#"+c1+";"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"}"
+".myinput{"
+"position:relative;"
+"border:none;"
+"background:#E6E6E6;"
+"outline:none;"
+"box-shadow:inset 5px 5px 5px #"+c3+", inset -5px -5px 5px #"+c2+";"
+"}"
+".mytext{text-shadow: 2px 2px 2px #"+c3+", -2px -2px 2px #"+c2+";}"
+".mytext2{text-shadow: 1px 1px 1px #"+c3+", -1px -1px 1px #"+c2+";}"
+".myinput2{"
+"border:none;"
+"background:#E6E6E6;"
+"outline:none;"
+"box-shadow:inset 2px 2px 2px #"+c3+", inset -2px -2px 2px #"+c2+";"
+"}"
+".mybutton{"
+"border:none;"
+"box-shadow:5px 5px 5px #"+c3+", -5px -5px 5px #"+c2+";"
+"outline:none;"
+"background:#"+c1+"; " 
+"}"
+".mybutton:hover{"
+"box-shadow:1px 1px 5px #"+c3+",  -1px -1px 5px #"+c2+";"
+"}"
+".FAA{color:#"+app.LoadText("fontA")+";}"
+".FB{color:#"+app.LoadText("fontB")+";}"
+".FC{color:#"+app.LoadText("fontC")+";}";
var size=app.LoadText("size").split(",");
for (i = 0; i < size.length; i++) {
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .F"+i+"{font-size:"+size[i]+"px;} ";
}
}

//app.Alert(document.getElementById("mystyle").innerHTML);
</script>

<body align="center" style="overflow: hidden;" ondragstart="return false" onselectstart="return false">
<div class="fullBody" >

    
<p style="height:4px;">
	<table class="F10" style="width:94%;margin-left:3%;"><tr>
	<td style="width:25%;text-align:center;"><strong id="a1">Dashboard</strong><button id="a2"onclick="dashboard();" type="button" class="mybutton" style="width:90%;height:20px;display:none;">Dashboard</button></td>
	<td style="width:25%;text-align:center;"><strong id="b1" style="display:none;">Issue list</strong><button id="b2"onclick="issue();" type="button" class="mybutton" style="width:90%;height:20px;" >Issue Iist</button></td>
</tr>
	</table>
	
			<div id="d" style="width:100%;height:80%;">
				<iframe class="" id="gk" style="width:100%;height:90%;overflow-x:hidden;outline:none;" src=""></iframe>
			</div>
	
		<div id="i" style="display:none;width:100%;height:90%;">
	<br>
	<table class="F12" style="width:90%;margin-left:5%;font-weight:bold;font-family:times;">
	<tr>
		<td style="width:33%;text-align:center;height:20px;"><strong id="m1">Issue List</strong><button  id="m2" type="button" class="F10 mybutton" style="width:90%;height:20px;display:none;" onclick="issuelist();"  >Issue List</button></td>
		<td style="width:33%;text-align:center;"><strong id="o1" style="display:none;">Issue for project</strong><button id="o2"  type="button" class="F10 mybutton" style="width:90%;height:20px;" onclick="issuep();">Issue for project</button></td>
	</tr>
	</table>
	
	<div id="pk" style="display:none;">
	<table style="width:96%;margin:2%;" >
<tr>
<td style="width:30%;"><select class="mycontainer F13" id="wing"  onchange="wingchange()" style="outline:none;border:1px solid black;width:96%;margin-left:2%;height:20px;font-family:times;font-weight:bold;" >

</select></td>
<td style="width:70%;"><select class="mycontainer F13" id="emp" onchange="empchange()"  style="outline:none;border:1px solid black;width:96%;margin-left:2%;height:20px;font-family:times;font-weight:bold;" >

</select></td>
</tr>
</table>
</div>
	<div id="g2" >
	<iframe class="" id="g" style="width:100%;height:90%;overflow-x:hidden;outline:none;" src=""></iframe>

	</div>
	</div>
	
	
	
	<div id="s" style="display:none;width:100%;height:80%;">
	<br>
	<table class="F12" style="width:90%;margin-left:5%;font-weight:bold;font-family:times;">
	<tr>
	<td style="text-align:left;">Recieving stock list</td>
		<td style="width:25%;text-align:center;"><button type="button" class="F12 mybutton" style="width:90%;height:20px;" data-toggle="modal" data-target="#updatep" onclick="mymodal()"  >Add Stock</button></td>
	</tr>
	</table>
	
	<div id="h2" style="height:400px;overflow:scroll;">
	
	<iframe class="" id="h" style="width:100%;height:90%;overflow-x:hidden;outline:none;" src=""></iframe>

 </div>
	</div>
	
	
		<div id="t" style="display:none;width:100%;height:80%;">
	<br>
	<table class="F16" style="width:90%;margin-left:5%;font-weight:bold;font-family:times;">
	<tr>
	<td style="text-align:left;">Item name</td>
		<td style="width:25%;text-align:center;"><button type="button" class="F12 mybutton" style="width:90%;height:20px;" data-toggle="modal" data-target="#newitem">Add New item</button></td>
	</tr>
	</table>
	
	<div style="height:400px;overflow:scroll;" id="item">

	
	</div>
	</div>
	
	
		<div class="modal fade" id="newitem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content mycontainer">
      <div class="modal-header">
        <h5 class="modal-title F16" id="exampleModalLabel" style="font-weight:bold;font-family:times;">Add new item name</h5>
      </div>
      <div class="modal-body">

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Item name<strong style="color:red"></strong></p>    
  <div class=" myinput" style="">
 <input class="F12 FAA" type="text" style="height:30px;"placeholder="item name" id="iname">
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Select Unit<strong style="color:red"></strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <select  class="F15 FAA mycontainer"   style="width:100%;height:35px;outline:none;border:none;" id="uname">
  <option value="BAG">BAG</option>
  <option value="BKT">BKT</option>
  <option value="KG">KG</option>
  <option value="LTR">LTR</option>
  <option value="NOS">NOS</option>
  <option value="BOX">BOX</option>
  <option value="PCS">PCS</option>
  <option value="MTR">MTR</option>
  <option value="FEET">FEET</option>
  <option value="INCH">INCH</option>
  <option value="BNDL">BNDL</option>
  <option value="ROLL">ROLL</option>
  <option value="BTL">BTL</option>
    </select>
  </div>
</div>

      </div>
      <div class="modal-footer">
       <button type="button" class="mybutton" data-dismiss="modal">Close</button>
        <button type="button" class="mybutton" onclick="additem();">Add item</button>
      
      </div>
    </div>
  </div>
</div>


		<div class="modal fade" id="updateitem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content mycontainer">
      <div class="modal-header">
        <h5 class="modal-title F16" id="exampleModalLabel" style="font-weight:bold;font-family:times;">Update item name</h5>
      </div>
      <div class="modal-body">

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Item name<strong style="color:red"></strong></p>    
  <div class=" myinput" style="">
 <input class="F12 FAA" type="text" style="height:30px;"placeholder="item name" id="inamez">
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Select Unit<strong style="color:red"></strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <select  class="F15 FAA mycontainer"   style="width:100%;height:35px;outline:none;border:none;" id="unamez">
  <option value="BAG">BAG</option>
  <option value="BKT">BKT</option>
  <option value="KG">KG</option>
  <option value="LTR">LTR</option>
  <option value="NOS">NOS</option>
  <option value="BOX">BOX</option>
  <option value="PCS">PCS</option>
  <option value="MTR">MTR</option>
  <option value="FEET">FEET</option>
  <option value="INCH">INCH</option>
  <option value="BNDL">BNDL</option>
  <option value="ROLL">ROLL</option>
  <option value="BTL">BTL</option>
    </select>
  </div>
</div>
<input type="hidden" id="idz">
      </div>
      <div class="modal-footer">
       <button type="button" class="mybutton" data-dismiss="modal">Close</button>
        <button type="button" class="mybutton" onclick="updateitem()">Update item</button>
      
      </div>
    </div>
  </div>
</div>
		
	<div class="modal fade" id="issue" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content mycontainer">
      <div class="modal-header">
        <h5 class="modal-title F16" id="exampleModalLabel" style="font-weight:bold;font-family:times;">Issue Materials</h5>
      </div>
      <div class="modal-body" style="margin:0px;">


<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Select Employee<strong style="color:red"></strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <select  class="F15 FAA mybutton"   style="width:100%;height:25px;outline:none;border:none;" id="pemp">
   
    </select>
  </div>
</div>
<br>
<table id="myTablex" class ="F10" style="width:100%" border="1">

</table>



	<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Remarks<strong style="color:red"></strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <textarea class="F15 FAA myinput"  placeholder="Remark"style="width:100%;height:70px;background-color:white;"  id="remarks"></textarea>
  </div>
</div>

      </div>
      <div class="modal-footer">
       <button type="button" class="mybutton" data-dismiss="modal">Close</button>
        <button type="button" class="mybutton" onclick="issuematerial();" >Issue Material</button>
      
      </div>
    </div>
  </div>
</div>
	
	
	
	<div class="modal fade" id="updatep" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content mycontainer">
      <div class="modal-header">
        <h5 class="modal-title F16" id="exampleModalLabel" style="font-weight:bold;font-family:times;">Add stock</h5>
      </div>
      <div class="modal-body">
      
<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Party Name<strong style="color:red"></strong></p>    
  <div class=" myinput" style="">
 <input class="F12 FAA myinput" type="text" style="height:30px;"placeholder="Party name " id="xdealer">
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Challan no<strong style="color:red"></strong></p>    
  <div class=" myinput" style="">
 <input class="F12 FAA myinput" type="text" style="height:30px;"placeholder="Challan no" id="xchallan">
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Date<strong style="color:red">*</strong></p>    
  <div class=" myinput" style="">
 <input class="F12 FAA mybutton" type="date" style="height:30px;" id="xdate">
  </div>
</div>

<p>Material list</p>
<table id="myTable" class="F12"  style="width:100%" border="1" >

</table>
<br>

      </div>
      <div class="modal-footer">
        <button type="button" class="mybutton" data-dismiss="modal">Close</button>
      <button type="button" class="mybutton" style="width:70px;" onclick="addstock();">Submit</button>
      </div>
    </div>
  </div>
</div>

<script>
var  rec = JSON.parse(app.LoadText( "userDetails" ));
       var    id=rec.id;
       var    User=rec.user;
       var   token=rec.token;
        var  uid =rec.uid;
         var  project =rec.project;
       var  url = app.LoadText( "url" );
       var	mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
       var letters = /^[A-Z a-z 0-9]+$/;
       var iid =0;
       var myitemx ="";
       var mydata ="";
       var row =1;
       var data ="";
       var  issueid =0;



var height=window.innerHeight-90;
document.getElementById("gk").style="height:"+height+"px;width:100%;overflow:scroll;";
document.getElementById("g").style="height:"+height+"px;width:100%;overflow:scroll;";


	var reqdata1=0;
  var  reqdata2 =0;
  var  reqdata3 =0;
   var  reqdata4 =0;
window.onmessage = function(e) {
if("delete"==((e.data).substr(0, 6)))
{
data =  e.data.replace("delete", "");
  yndB= app.CreateYesNoDialog( "Are you want to delete this stock" );
    yndB.SetOnTouch( YndB_OnTouch );
    yndB.Show();
}
else if("dld"==((e.data).substr(0, 3)))
{
var jsond =data =  e.data.replace("dld", "");
       var  reqg = JSON.parse(jsond);
       var    dldurl =reqg.url;
       app.OpenUrl( dldurl )
       /*
       var fn =reqg.name;
      var fldr = "/sdcard/Download/";
    app.MakeFolder( fldr )
    dload = app.CreateDownloader( "NoDialog")
    dload.SetOnDownload( dload_OnDownload )
    dload.SetOnError( dload_OnError )
    dload.Download( dldurl, fldr,fn)
*/

}
else if("ggg"==((e.data).substr(0, 3)))
{
  issueid =e.data.replace("ggg", "");
  yndD= app.CreateYesNoDialog( "Are you want to delete this issued" );
    yndD.SetOnTouch( YndD_OnTouch );
    yndD.Show();
}
else if("hhh"==((e.data).substr(0, 3)))
{
  issueid2 =e.data.replace("hhh", "");
  yndE= app.CreateYesNoDialog( "Are you want to delete this issued" );
    yndE.SetOnTouch( YndE_OnTouch );
    yndE.Show();
}

}           

function YndD_OnTouch(pp)
{
if(pp="Yes")
{

	var 	req19=new XMLHttpRequest();
	req19.open("GET",app.LoadText( "url" )+"deleteissue.php?id="+id+"&user="+User+"&ref="+issueid+"&token="+token,true);
	req19.onreadystatechange=function(){
if(	req19.readyState==4 && 	req19.status==200){if(	req19.responseText=="ufFygf")
{  

}else{
document.getElementById("g").contentWindow.postMessage(  issueid  , '*');
}}}
	req19.send();
}
}

function dload_OnDownload( fileg )
{
app.ShowPopup( "File downloaded in Download folder" );
	app.OpenFile( fileg,"application/pdf");
	
}

//Handle download errors.
function dload_OnError( error )
{
	app.ShowPopup( "Download failed: " + error )
}



function workdataload()
{
var wing =document.getElementById("wing").value ;
var emp =document.getElementById("emp").value ;
document.getElementById("g").src=url+"flatissue.php?id="+id+"&user="+User+"&token="+token+"&project="+project+"&url="+url+"&wing="+wing+"&emp="+emp;
}
function issuelist2()
{

document.getElementById("g").src=url+"issuelist.php?id="+id+"&user="+User+"&token="+token+"&url="+url+"&project="+project;
      
}


function wingchange()
{
workdataload();
}

function empchange()
{
workdataload();
}
function issuelist()
{
document.getElementById("pk").style.display="none";
document.getElementById("m1").style.display="block";
document.getElementById("m2").style.display="none";
document.getElementById("o1").style.display="none";
document.getElementById("o2").style.display="block";
issuelist2();
}


function issuep()
{
document.getElementById("pk").style.display="block";
document.getElementById("m1").style.display="none";
document.getElementById("m2").style.display="block";
document.getElementById("o1").style.display="block";
document.getElementById("o2").style.display="none";
workdataload();
}

function issue()
{
document.getElementById("d").style.display="none";
document.getElementById("i").style.display="block";
document.getElementById("s").style.display="none";
document.getElementById("t").style.display="none";

document.getElementById("a1").style.display="none";
document.getElementById("a2").style.display="block";
document.getElementById("b1").style.display="block";
document.getElementById("b2").style.display="none";

issuelist();
}
function dashboard()
{
document.getElementById("d").style.display="block";
document.getElementById("i").style.display="none";
document.getElementById("s").style.display="none";
document.getElementById("t").style.display="none";

document.getElementById("a1").style.display="block";
document.getElementById("a2").style.display="none";
document.getElementById("b1").style.display="none";
document.getElementById("b2").style.display="block";


document.getElementById("gk").src=url+"stockinfo.php?id="+id+"&user="+User+"&token="+token+"&project="+project;

}
	 function getemp()
 {
 
// app.Execute("loader2(1);");   
	var 	req4=new XMLHttpRequest();
	req4.open("GET",app.LoadText( "url" )+"projectemp.php?id="+id+"&user="+User+"&project="+project+"&token="+token,true);
		req4.onreadystatechange=function(){
if(	req4.readyState==4 && 	req4.status==200){if(	req4.responseText=="ufFygf")
{  

}else{

 if (req4.responseText.trim()==1)
 {
 app.Alert( "error please relogin" );
     app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Error"}');
 }
 else if(req4.responseText.trim()==2)
 {
  app.Alert( "User is blocked" );
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"User is blocked"}');
 }
 else if(req4.responseText.trim()==3)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Permission denied"}');
 }
 else
 {
 document.getElementById("emp").innerHTML = "";
  document.getElementById("pemp").innerHTML ="";
// app.SaveText("msg",'{"color":"green","msg":""}');
  //app.Execute("loader2(4);");   
     var alluser=req4.responseText.trim().split('@');

   for(var i = 0; i < alluser.length;  i++)
   {
   if (alluser[i].length<10)
   {}
   else
   {
   var  rec = JSON.parse(alluser[i]);
   var  pid =rec.id;
   var  pname=rec.name;

   document.getElementById("emp").innerHTML = document.getElementById("emp").innerHTML+'<option value="'+pid+'">'+pname+'</option>';

 }}
 }
}}}
	req4.send();
	}
getemp();
	 function getwing()
 {

// app.Execute("loader2(1);");   
	var 	req87=new XMLHttpRequest();
	req87.open("GET",app.LoadText( "url" )+"getwing.php?id="+id+"&user="+User+"&pid="+project+"&token="+token,true);
		req87.onreadystatechange=function(){
if(	req87.readyState==4 && 	req87.status==200){if(	req87.responseText=="ufFygf")
{  

}else{
 if (req87.responseText.trim()==1)
 {
 app.Alert( "error please relogin" );
     app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Error"}');
 }
 else if(req87.responseText.trim()==2)
 {
  app.Alert( "User is blocked" );
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"User is blocked"}');
 }
 else if(req87.responseText.trim()==3)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Permission denied"}');
 }
 else
 {
 document.getElementById("wing").innerHTML = "";
// app.SaveText("msg",'{"color":"green","msg":""}');
  //app.Execute("loader2(4);");   
     var alluser=req87.responseText.trim().split('@');

   for(var i = 0; i < alluser.length;  i++)
   {
   if (alluser[i].length<10)
   {}
   else
   {
   var  rec = JSON.parse(alluser[i]);
   var  pid =rec.id;
   var  pwing =rec.wing;

   document.getElementById("wing").innerHTML = document.getElementById("wing").innerHTML+'<option value="'+pid+'">'+pwing+'</option>';
 
 }}
 }
}}}
	req87.send();
	}

getwing();

document.getElementById("gk").src=url+"stockinfo.php?id="+id+"&user="+User+"&token="+token+"&project="+project;
 

</script>


</div>
</body>
</html>