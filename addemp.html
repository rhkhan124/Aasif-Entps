<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<script src='file:///android_asset/app.js'></script>
<link href="css/all.css" rel="stylesheet">

    <link href="boostrap/css/bootstrap2.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap3.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap4.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap5.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap6.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap7.css" rel="stylesheet">
    <link href="boostrap/css/bootstrap8.css" rel="stylesheet">
    <link href="boostrap/css/swiper.min.css" rel="stylesheet">

<script src="js/all.js"></script>
    <script src="boostrap/js/jquery.js"></script>
    <script src="boostrap/js/date.js"></script>
    <script src="boostrap/js/date2.js"></script>
    <script src="boostrap/js/bootstrap.js" type="text/javascript" ></script>

<style id="mystyle">
body{
height:100%;
}
.container{
display:inline-block;
margin:auto;
border-radius:20px;
padding-bottom:14px;
width:80%;
margin-top:100px;
}
#logo{
width:100px;height:100px;
background:url(logo.png);
background-size:100%;
margin-top:10px;
border-radius:50%;
box-shadow:5px 5px 5px grey, -5px -5px 5px white;

}

#user, #lock{

width:300px;
height:50px;
border-radius:20px;
}
.dropcontainer{
display:inline-block;
margin:auto;
border-radius:5px;
width:96%;
margin-top:10px;
height:35px;
}
button{

margin:10px;
border-radius:20px;
width:300px;
height:50px;
font-size:14px;

}
button:hover{
box-shadow:1px 1px 5px grey,  -1px -1px 5px white;

}
input{
width:100%;
padding-left:5px;
font-family:times;
font-weight:bold;
height:35px;
border:none;
outline:none;
background:none;
}
p{
font-family:times;font-weight:bold;
}

#foot{
font-size:14px;
margin-top:14px;}
a{text-decoration:none;outline:none;
}
i{
color:rgb(80,80,80);
}
h3{
margin-bottom:20px;
margin-top:10px;  
font-family:times;
}

</style>


</head>

<script>  

app.SaveText("Change",app.LoadText( "change2" ));
var themeColor = app.LoadText( "themeColor" );
var color = JSON.parse(themeColor);
var c1=color.c1;
var c2=color.c2;
var c3=color.c3;
var c4=color.c4;
var c5=color.c5;
var c6=color.c6;
var mytheme =app.LoadText( "mytheme" );
if (mytheme=="1")
{
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .fullBody{"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%),"
+"radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"height:100%;width:100%;margin:0;position:absolute;}"
+".mycontainer{"
+"position:relative;"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"font-weight:bold;}"
+".myinput{"
+"margin:auto;"
+"border:none;"
+"background:#"+c1+";"
+"outline:none;"
+"box-shadow:inset 5px 5px 5px #"+c3+", inset -5px -5px 5px #"+c2+";"
+"}"
+".mybutton{"
+"border:none;"
+"box-shadow:5px 5px 5px #"+c3+", -5px -5px 5px #"+c2+";"
+"outline:none;"
+"background: radial-gradient(ellipse farthest-corner at right bottom, #FEDB37 0%, #FDB931 8%, #9f7928 30%, #8A6E2F 40%, transparent 80%) "
+", radial-gradient(ellipse farthest-corner at left top, #FFFFFF 0%, #FFFFAC 8%, #D1B464 25%, #5d4a1f 62.5%, #5d4a1f 100%);"
+"font-weight:bold;font-family:times;}"
+".mybutton:hover{"
+"box-shadow:1px 1px 5px #"+c3+",  -1px -1px 5px #"+c2+";"
+"}"
+".FAA{color:#"+c4+";}"
+".FB{color:#"+c5+";}"
+".FC{color:#"+c6+";}";
var size=app.LoadText("size").split(",");
for (i = 0; i < size.length; i++) {
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .F"+i+"{font-size:"+size[i]+"px;} ";
}
}
else
{
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" body{"
+"background:#"+c1+";"
+"}"
+".mycontainer{"
+"position:relative;"
+"background:#"+c1+";"
+"box-shadow:4px 4px 4px #"+c3+",-4px -4px 4px #"+c2+";"
+"}"
+".myinput{"
+"margin:auto;"
+"border:none;"
+"background:#"+c1+";"
+"outline:none;"
+"box-shadow:inset 5px 5px 5px #"+c3+", inset -5px -5px 5px #"+c2+";"
+"}"
+".mybutton{"
+"border:none;"
+"box-shadow:5px 5px 5px #"+c3+", -5px -5px 5px #"+c2+";"
+"outline:none;"
+"background:#"+c1+"; " 
+"}"
+".mybutton:hover{"
+"box-shadow:1px 1px 5px #"+c3+",  -1px -1px 5px #"+c2+";"
+"}"
+".FAA{color:#"+app.LoadText("fontA")+";}"
+".FB{color:#"+app.LoadText("fontB")+";}"
+".FC{color:#"+app.LoadText("fontC")+";}";
var size=app.LoadText("size").split(",");
for (i = 0; i < size.length; i++) {
document.getElementById("mystyle").innerHTML = document.getElementById("mystyle").innerHTML+" .F"+i+"{font-size:"+size[i]+"px;} ";
}
}

//app.Alert(document.getElementById("mystyle").innerHTML);
</script>

<body align="center" ondragstart="return false" onselectstart="return false">
<div class="fullBody">

<div class="">
<table style="width:80%;margin-left:10%;"class="F12">
<tr>
<td style="background-color:green;text-align:center;width:5%;font-weight:bold;color:white;">1</td>
<td><hr style="background-color:#424242;"></td>
<td style="background-color:#424242;text-align:center;width:5%;font-weight:bold;color:white;">2</td>
<td><hr style="border-color:#424242;"></td>
<td style="background-color:#424242;text-align:center;width:5%;font-weight:bold;color:white;">3</td>
<td><hr style="border-color:#424242;"></td>
<td style="background-color:#424242;text-align:center;width:5%;font-weight:bold;color:white;">4</td>

</tr>
</table>

<table style="width:100%;" class="F10">
<tr>
<td style="text-align:center;width:25%;color:green;">Employee details</td>
<td style="text-align:center;width:25%;">Document details</td>
<td style="text-align:center;width:25%;">Account  details</td>
<td style="text-align:center;width:25%;">Doc upload</td>
</tr>
</table>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Name<strong style="color:red">*</strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" type="text" placeholder="Name" id="empname">
  </div>
</div>


<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Nick Name</p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" type="text" placeholder="Nick Name" id="empnick">
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Date of Birth <strong style="color:red">*</strong> <strong id="agealert"></strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" type="date" placeholder="Date of Birth" id="empage" onchange="empage();">
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Select Desination<strong style="color:red">*</strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
  <select class="F12 FAA myinput" style="outline:none;width:100%;height:35px;font-family:times;font-weight:bold;"  id="empdesination">
<option value="Mason">Mason</option>
<option value="Helper">Helper</option>
<option value="Guider">Guider</option>
<option value="Supervioser">Supervioser</option>
<option value="Manager">Manager</option>
<option value="Other">Other</option>
  </select>
  </div>
</div>

<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Mobile Number<strong style="color:red">*</strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" type="number" placeholder="Mobile Number" id="empmobile">
  </div>
</div>


<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Email<strong style="color:red">*</strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
    <input class="F15 FAA" type="email" placeholder="Email" id="empemail">
  </div>
</div>



<div class="container" style="margin-top:10px;">
<p class="F12 FAA" style="text-align:left;font-weight:bold;">Select Project<strong style="color:red">*</strong></p>                                        
  <div class=" myinput" style="margin-top:5px;">
  <select class="F12 FAA myinput" style="outline:none;width:100%;height:35px;font-family:times;font-weight:bold;"   onchange="project();" id="projectlist">

  </select>
  </div>
</div>



<button class="mybutton FAA F14" style="font-family:times;font-weight:bold;" onclick="addemp();">Submit </button>
<script>
var url=app.LoadText( "url" );

 var  rec = JSON.parse(app.LoadText( "userDetails" ));
       var    id=rec.id;
       var    User=rec.user;
       var   token=rec.token;
       var company =rec.company;
       var   ustatus ="";
       var uid = app.LoadText( "uid" );
       var projectarray="";
       var calculatedAge="";

var	mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
var letters = /^[A-Z a-z 0-9]+$/;

function getAge(dateString) {
   var ageInMilliseconds = new Date() - new Date(dateString);
   return Math.floor(ageInMilliseconds/1000/60/60/24/365); // convert to years
}

function empage()
{
var year_born=document.getElementById("empage").value;
calculatedAge = getAge(year_born);
if(calculatedAge >=18)
{
document.getElementById("agealert").innerHTML=" (Employee age is : "+calculatedAge +" years)";
document.getElementById("agealert").style="color:green;font-family:times;";
}
else
{
document.getElementById("agealert").innerHTML=" (Employee age is : "+calculatedAge +" years)";
document.getElementById("agealert").style="color:red;font-family:times;";
}
}

 
 app.Execute("loader2(1);");   
	var 	req2=new XMLHttpRequest();
	req2.open("GET",app.LoadText( "url" )+"fetchproject.php?id="+id+"&user="+User+"&token="+token,true);
	req2.onreadystatechange=function(){
if(	req2.readyState==4 && 	req2.status==200){if(	req2.responseText=="ufFygf")
{  

}else{
 if (req2.responseText.trim()==1)
 {
 app.Alert( "error please relogin" );
     app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Error"}');
     app.ClearData(  );
  app.exit();
 }
 else if(req2.responseText.trim()==2)
 {
  app.Alert( "User is blocked" );
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"User is blocked"}');
 }
 else if(req2.responseText.trim()==3)
 {
  app.Alert( "Permission denied contact admin" );
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Permission denied"}');
 }
 else if(req2.responseText.trim()==4)
 {
  app.Alert( "Already exist this project name" );
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Project already exist "}');
 }
 else if(req2.responseText.trim()==5)
 {
    app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"green","msg":"Seccessfully added"}');
 }
 else
 {
 app.SaveText("msg",'{"color":"green","msg":""}');
  app.Execute("loader2(4);");   
  
     var projectdata=req2.responseText.trim().split('@');
   for(var i = 0; i < projectdata.length ;  i++)
   {
   if (projectdata[i].length<3)
   {}
   else
   {
   var  rec = JSON.parse(projectdata[i]);
   var  pid=rec.id;
   var  pname=rec.name;
   var  paddress=rec.address;
   projectarray = projectarray+pid+",";
     document.getElementById("projectlist").innerHTML = document.getElementById("projectlist").innerHTML+'<option value="'+pid+'" id="G'+pid+'">'+pname+'</option>';

  
  
 }}
 }
}}}
	req2.send();
	
	document.getElementById("projectlist").value=app.LoadText( "project" );
	
function addemp()
{
var empname = document.getElementById("empname").value;
var empproject = document.getElementById("projectlist").value;
var empnick = document.getElementById("empnick").value;
var empdob= document.getElementById("empage").value;
var empdesin= document.getElementById("empdesination").value;
var empmobile= document.getElementById("empmobile").value;
var empemail= document.getElementById("empemail").value;
var empid =app.LoadText( "empid" );
var group =app.LoadText( "group" );

if(empname.length<4)
{
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Please input name field"}');
}
else if (empname.match(letters))
{
if(calculatedAge<18)
{
app.Alert( "Employee age should be 18 + age " )
}
else
{
if(empdesin.length<4)
{
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Please input desination field"}');
}
else if (empdesin.match(letters))
{
if(empmobile.length==10)
{
if (empemail.match(mailformat))
{

 app.Execute("loader2(1);");   
	var 	req4=new XMLHttpRequest();                                                                                        
	req4.open("GET",app.LoadText( "url" )+"addemp.php?id="+id+"&user="+User+"&token="+token+"&uid="+uid+"&empid="+empid+"&group="+group+"&name="+empname+"&nick="+empnick+"&desination="+empdesin+"&mobile="+empmobile+"&email="+empemail+"&dob="+empdob+"&project="+empproject,true);
	req4.onreadystatechange=function(){
if(	req4.readyState==4 && 	req4.status==200){if(	req4.responseText=="ufFygf")
{  

}else{
 if (req4.responseText.trim()==1)
 {
     app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Error"}');
     app.ClearData(  );
  app.exit();
 }
 else if(req4.responseText.trim()==2)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Permission denied "}');
 }
 else if(req4.responseText.trim()==3)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"User is blocked"}');
 }
 else if(req4.responseText.trim()==4)
 {
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Mobile already exist "}');
 }
 else if(req4.responseText.trim()==5)
 {
    app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Already exist this email"}');
 }
  else if(req4.responseText.trim()==6)
 {
     app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"This employee already registered !"}');
 }

 else
 {
 app.SaveText("msg",'{"color":"green","msg":"Seccessfully added"}');
  app.Execute("loader2(4);");   
submit();
 }
}}}
	req4.send();
}
else
{
       app.Execute("loader2(4);");   
   app.SaveText("msg",'{"color":"red","msg":"Please input valid email "}');
}
}
else
{
app.Alert( "Mobile accept only 10 digit" )
}
}
else
{
app.Alert( "Please remove special charactor in desination field" )
}
}
}
else
{
app.Alert( "Please remove special charactor in name field" )
}




}

function submit()
{
app.Execute( "empdocument();" );
}


</script>





</div>
</body>
</html>